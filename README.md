# Trends Index → Volume Overlay Chrome 扩展

## 功能说明

这是一个 Chrome 浏览器扩展，用于在 Google Trends 页面上将相对流量数值（0-100 指数）转换为估算的搜索量。

### 核心特性

- **自动换算**：将 Google Trends 的 0-100 指数线性映射为估算搜索量（次/日）
- **实时更新**：随鼠标移动、时间窗调整、搜索词变更自动更新显示
- **可拖拽悬浮窗**：固定在页面右上角，可自由拖拽调整位置
- **智能检测**：自动检测页面上的搜索词和对应的指数值
- **动态校准**：基于 "Casual Games 平均值 63 ≈ 1250 次/日" 自动校准换算系数

## 安装方法

### 方法一：开发者模式加载（推荐）

1. 打开 Chrome 浏览器，访问 `chrome://extensions/`
2. 开启右上角的"开发者模式"
3. 点击"加载已解压的扩展程序"
4. 选择本项目的根目录（包含 `manifest.json` 的文件夹）
5. 扩展安装完成

### 方法二：打包安装

1. 在 `chrome://extensions/` 页面点击"打包扩展程序"
2. 选择本项目的根目录
3. 生成 `.crx` 文件后，拖拽到扩展页面安装

## 使用方法

1. 访问 [Google Trends](https://trends.google.com)
2. 搜索任意关键词或对比多个关键词
3. 扩展会自动在页面右上角显示悬浮窗
4. 悬浮窗会显示：
   - 每个搜索词的当前指数值
   - 换算后的估算搜索量（次/日）
   - 换算系数说明

### 交互说明

- **拖拽**：点击悬浮窗标题区域可拖拽移动位置
- **自动更新**：鼠标在图表上移动时，数值会自动更新
- **平均值显示**：当没有鼠标悬停数据时，会显示平均值

## 技术实现

### 换算公式

```
估算搜索量（次/日）= 趋势指数 × 19.84
```

其中，换算系数 19.84 由以下校准点得出：
- **校准词条**：Casual Games
- **平均指数**：63
- **已知搜索量**：1250 次/日
- **换算系数**：1250 ÷ 63 ≈ 19.84

### 文件结构

```
trendsTranslator/
├── manifest.json      # Chrome 扩展配置文件
├── content.js         # 内容脚本（核心逻辑）
├── styles.css         # 悬浮窗样式
├── README.md          # 说明文档
├── INSTALL.md         # 安装指南
├── ICONS.md           # 图标说明
└── .gitignore         # Git 忽略文件
```

### 必需文件
- `manifest.json` - 扩展配置文件
- `content.js` - 核心功能脚本
- `styles.css` - 样式文件

### 可选文件
- 图标文件（`icon16.png`, `icon48.png`, `icon128.png`）- 扩展图标，不影响功能

## 注意事项

### 数据准确性

1. **估算性质**：显示的搜索量是**估算值**，不是官方数据
2. **归一化影响**：Google Trends 指数是归一化到 0-100 的相对值，不同词条之间的"100"不代表相同的绝对搜索量
3. **时间窗影响**：切换时间范围或地域后，指数分布会变化，建议在当前设置下使用
4. **线性假设**：换算基于线性映射假设，实际可能存在偏差

### 兼容性

- 支持 `https://trends.google.com` 和 `https://trends.google.com.cn`
- 兼容不同语言版本的 Google Trends
- 自动适配页面 DOM 结构变化

### 限制说明

- 需要页面加载完成后才能正常工作
- 某些动态加载的内容可能需要等待几秒钟
- 如果页面结构发生重大变化，可能需要更新选择器逻辑

## 开发计划

### 已完成
- ✅ 基础悬浮窗显示
- ✅ 指数到搜索量的线性换算
- ✅ 实时数据更新
- ✅ 可拖拽功能
- ✅ 自动检测搜索词

### 待优化
- [ ] 支持多锚点校准（使用多个已知搜索量进行线性回归）
- [ ] 支持不同时间粒度的换算（日/周/月）
- [ ] 添加设置面板，允许用户自定义校准系数
- [ ] 优化 DOM 选择器，提高数据提取准确性
- [ ] 添加图标资源

## 更新日志

### v0.1.0 (2025-01-XX)
- 初始版本发布
- 实现基础指数换算功能
- 实现悬浮窗显示和拖拽
- 实现实时数据更新

## 许可证

MIT License

